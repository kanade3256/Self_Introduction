/* -----------------------------------------------------------
   Global Design Tokens
----------------------------------------------------------- */

/* Web Font Optimization with font-display: swap */
@font-face {
  font-family: 'Inter-fallback';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: local('system-ui'), local('-apple-system');
}

@font-face {
  font-family: 'Noto Sans JP-fallback';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: local('Hiragino Kaku Gothic ProN'), local('Yu Gothic');
}

*, *::before, *::after {
  box-sizing: border-box;
}

:root {
  color-scheme: light;
  --bg: #ffffff;
  --panel: #f8fafc;
  --card: #ffffff;
  --text: #1e293b;
  --muted: #64748b;
  --primary: #2563eb;
  --primary-strong: #1d4ed8;
  --accent: #3b82f6;
  --ring: color-mix(in oklab, var(--primary), white 50%);
  --border: #e2e8f0;
  --surface-contrast: #f1f5f9;

  /* Ocean gradient palette (surface to deep) */
  --sea-surface-0: #cfefff; /* 0% surface gleam */
  --sea-surface-1: #9bdaf3; /* 12% bright shallows */
  --sea-mid-0:     #3a91c7; /* 28% transition to midwater */
  --sea-mid-1:     #175b92; /* 48% calm midwater */
  --sea-deep-0:    #0b345f; /* 70% deep approach */
  --sea-deep-1:    #081d3a; /* 100% deep ocean */

  --ocean-text: color-mix(in srgb, var(--text) 90%, #000000 10%);

  --font-sans-jp: system-ui, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', 'Yu Gothic UI', 'Yu Gothic', 'Noto Sans JP', sans-serif;
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, var(--font-sans-jp);
  --font-mono: ui-monospace, 'SF Mono', 'Monaco', 'Cascadia Code', 'JetBrains Mono', 'Consolas', 'SFMono-Regular', monospace;

  --shadow-soft: 0 20px 40px rgba(30, 41, 59, 0.15);
  --shadow-card: 0 8px 25px rgba(30, 41, 59, 0.20);

  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.5rem;
  --space-6: 2rem;
  --space-7: 2.5rem;
  --space-8: 3rem;
  --space-section-mobile: 3.5rem;
  --space-section-desktop: 6rem;

  --radius-sm: 12px;
  --radius-md: 16px;
  --radius-lg: 24px;

  --shadow-soft: 0 24px 60px rgba(5, 9, 20, 0.35);
  
  /* Performance: Content Visibility Optimization */
  --intrinsic-height-section: 800px;
  --intrinsic-height-large: 1200px;
  --shadow-card: 0 16px 40px rgba(8, 13, 28, 0.38);
  --shadow-focus: 0 0 0 4px color-mix(in oklab, var(--ring), transparent 55%);

  --transition-fast: 120ms ease;
  --transition-base: 240ms ease;
}

.theme--dark {
  --bg: #0f1419;
  --panel: #1a1f29;
  --card: #242936;
  --text: #f0f4f8;
  --muted: #a8b5c7;
  --primary: #38bdf8;
  --primary-strong: #0ea5e9;
  --accent: #7dd3fc;
  --ring: color-mix(in oklab, var(--primary), white 35%);
  --border: #2d3748;
  --ocean-text: color-mix(in srgb, var(--text) 65%, #ffffff 35%);
}

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
  background:
    radial-gradient(1200px 600px at 50% -10%, rgba(255, 255, 255, 0.06), rgba(0, 0, 0, 0) 60%),
    radial-gradient(1px 1px at 25% 40%, rgba(255, 255, 255, 0.02), transparent 60%),
    radial-gradient(1px 1px at 60% 20%, rgba(0, 0, 0, 0.02), transparent 60%),
    linear-gradient(
      to bottom,
      var(--sea-surface-0) 0%,
      var(--sea-surface-1) 12%,
      var(--sea-mid-0)     28%,
      var(--sea-mid-1)     48%,
      var(--sea-deep-0)    70%,
      var(--sea-deep-1)    100%
    );
  background-repeat: no-repeat;
  background-attachment: scroll;
}

html, body { min-height: 100%; }

body {
  margin: 0;
  font-family: var(--font-sans);
  line-height: 1.6;
  /* Allow the ocean gradient applied to html to show through */
  background: transparent;
  color: var(--ocean-text);
  max-width: 100%;
  overflow-x: hidden; /* prevent horizontal scroll due to effects */
}

/* Performance: Content Visibility for off-screen sections */
.section-lazy {
  content-visibility: auto;
  contain-intrinsic-size: var(--intrinsic-height-section);
}

.section-lazy.large {
  contain-intrinsic-size: var(--intrinsic-height-large);
}

/* Reduce filter effects for performance */
.filter-minimal {
  backdrop-filter: blur(8px) saturate(1.8);
}

.filter-reduced {
  backdrop-filter: blur(4px) saturate(1.4);
}

@media (prefers-reduced-motion: reduce) {
  .filter-minimal,
  .filter-reduced {
    backdrop-filter: blur(2px) saturate(1.1);
  }
}

/* Accessibility: Enhanced Focus Visibility */
:focus-visible {
  outline: 3px solid var(--primary);
  outline-offset: 3px;
  border-radius: 4px;
}

/* High contrast focus for interactive elements */
a:focus-visible,
button:focus-visible,
[tabindex]:focus-visible {
  outline: 3px solid #7fd1ff;
  outline-offset: 3px;
  box-shadow: 0 0 0 1px var(--bg), 0 0 8px rgba(127, 209, 255, 0.4);
}

/* Focus for form elements */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 1px;
}

/* Better contrast for deep ocean sections */
.on-deep {
  color: #ffffff;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.card-glass {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.12);
}

/* Skip link improvements */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  z-index: 1000;
  padding: 8px;
  background: var(--primary);
  color: #ffffff;
  text-decoration: none;
  border-radius: 4px;
  font-weight: 600;
  transition: top 0.2s ease;
}

.skip-link:focus {
  top: 6px;
}


img, svg {
  display: block;
  max-width: 100%;
  height: auto;
}

a {
  color: inherit;
  text-decoration: none;
}

a:focus-visible,
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 3px;
  box-shadow: var(--shadow-focus);
}

button {
  font: inherit;
  background: none;
  border: none;
  color: inherit;
  cursor: pointer;
}

.on-deep { color: #ffffff; } /* Limited helper for copy that must sit on deep hues */
.on-deep a { color: #d8f2ff; text-decoration-color: rgba(216, 242, 255, 0.6); }
.on-deep a:hover { text-decoration-color: rgba(216, 242, 255, 0.9); }

.card-glass {
  backdrop-filter: blur(10px);
  background: color-mix(in hsl, white 18%, transparent);
  border: 1px solid color-mix(in hsl, white 28%, transparent);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.card-glass--tight {
  padding: 1rem;
}

.card-glass--roomy {
  padding: 2rem;
}

/* Link contrast helper tailored for darker ocean sections */
.is-on-ocean a {
  color: color-mix(in hsl, white 20%, #7fd1ff);
  text-decoration-color: color-mix(in hsl, white 30%, #7fd1ff);
}
.is-on-ocean a:hover {
  color: #a9e0ff;
  text-decoration-color: #a9e0ff;
}

/* Keep structural wrappers transparent so the gradient stays visible */
:where(main, header, footer, section, article, aside) {
  background-color: transparent;
}
:where(.page, .page-container, .content, .container, .panel, .wrapper) {
  background-color: transparent !important;
}

.skip-link {
  position: absolute;
  top: 0.75rem;
  left: 1rem;
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-sm);
  background: var(--primary);
  color: #0f1419;
  transform: translateY(-120%);
  transition: transform var(--transition-base);
  z-index: 999;
}

.skip-link:focus {
  transform: translateY(0);
}

main, section, header, footer {
  display: block;
}

section[id] {
  scroll-margin-top: 96px;
}

/* -----------------------------------------------------------
   Layout
----------------------------------------------------------- */
.layout-container {
  width: min(1200px, 100% - 3rem);
  margin: 0 auto;
}

@media (max-width: 800px) {
  .layout-container {
    width: min(100%, 100% - 2rem);
  }
}

.section {
  padding-block: var(--space-section-desktop);
  position: relative;
}

.section--layer {
  /* Completely transparent background to maintain gradient */
  background: transparent;
  border-top: 1px solid color-mix(in srgb, var(--border) 25%, transparent 75%);
  border-bottom: 1px solid color-mix(in srgb, var(--border) 25%, transparent 75%);
  backdrop-filter: none;
}

.section--hero {
  padding-top: calc(var(--space-section-desktop) * 0.8);
}

.section__header {
  max-width: 720px;
  margin-bottom: var(--space-6);
  position: relative;
  z-index: 2;
}

.section__eyebrow {
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  color: var(--accent);
  margin: 0 0 var(--space-2);
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

.section__title {
  margin: 0 0 var(--space-3);
  font-size: clamp(2.25rem, 2.8vw, 2.8rem);
  letter-spacing: -0.02em;
  text-shadow: 0 3px 10px rgba(0, 0, 0, 0.4);
}

.section__lead {
  margin: 0;
  color: var(--muted);
  font-size: 1.05rem;
  line-height: 1.7;
}

.section__footer {
  margin-top: var(--space-6);
}

/* 12 column grid utilities */
.grid-12 {
  display: grid;
  gap: var(--space-5);
  grid-template-columns: repeat(12, minmax(0, 1fr));
}

.col-span-4 { grid-column: span 4; }
.col-span-5 { grid-column: span 5; }
.col-span-6 { grid-column: span 6; }
.col-span-7 { grid-column: span 7; }
.col-span-12 { grid-column: span 12; }

@media (max-width: 1000px) {
  .grid-12 {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }
  .col-span-5,
  .col-span-6,
  .col-span-7 {
    grid-column: span 6;
  }
}

@media (max-width: 640px) {
  .grid-12 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
  .col-span-4,
  .col-span-5,
  .col-span-6,
  .col-span-7,
  .col-span-12 {
    grid-column: span 1;
  }
  .section {
    padding-block: var(--space-section-mobile);
  }
  section[id] {
    scroll-margin-top: 80px;
  }
}

/* -----------------------------------------------------------
   Buttons & Badges
----------------------------------------------------------- */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: 0.75rem 1.4rem;
  border-radius: 999px;
  border: 1px solid transparent;
  font-weight: 600;
  font-size: 0.95rem;
  transition: transform var(--transition-fast), background-color var(--transition-fast), box-shadow var(--transition-fast);
  text-decoration: none;
}

.btn--primary {
  background: var(--primary);
  color: #0f1419;
  box-shadow: 0 12px 26px rgba(56, 189, 248, 0.25);
}

.btn--primary:hover {
  background: var(--primary-strong);
  transform: translateY(-1px);
}

.btn--ghost {
  background: color-mix(in oklab, var(--card), transparent 35%);
  border-color: rgba(255, 255, 255, 0.12);
  color: var(--text);
}

.btn--ghost:hover {
  background: color-mix(in oklab, var(--card), white 12%);
}

.btn:active {
  transform: scale(0.98);
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.35rem 0.75rem;
  border-radius: 999px;
  border: 1px solid transparent;
  font-size: 0.8rem;
  font-weight: 500;
  letter-spacing: 0.02em;
}

.badge--pill {
  background: color-mix(in oklab, var(--card), transparent 30%);
  border-color: rgba(255, 255, 255, 0.08);
}

.badge--soft {
  background: color-mix(in oklab, var(--primary), transparent 79%);
  color: var(--accent);
  border-color: rgba(125, 211, 252, 0.25);
}

/* -----------------------------------------------------------
   Card Primitive
----------------------------------------------------------- */
.card {
  background: color-mix(in srgb, #ffffff 75%, transparent 25%);
  border-radius: var(--radius-md);
  padding: var(--space-5);
  border: 1px solid rgba(209, 213, 219, 0.5);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03), 0 2px 4px rgba(0, 0, 0, 0.05);
  position: relative;
  overflow: hidden;
  transition: transform var(--transition-base), box-shadow var(--transition-base), border-color var(--transition-base);
}

.card:hover {
  transform: translateY(-4px) scale(1.01);
  box-shadow: var(--shadow-soft);
  border-color: var(--primary);
}

.card__header {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
}

.card__eyebrow {
  font-size: 0.8rem;
  color: var(--accent);
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.card__title {
  margin: 0;
  font-size: clamp(1.5rem, 2vw, 1.9rem);
  letter-spacing: -0.01em;
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.card__subtitle {
  margin: 0;
  color: var(--muted);
  font-size: 0.95rem;
}

.card__summary {
  margin: 0 0 var(--space-4);
  color: var(--muted);
}

.card__tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin: 0 0 var(--space-4);
  padding: 0;
  list-style: none;
}

.card__actions {
  display: flex;
  gap: var(--space-3);
}

/* -----------------------------------------------------------
   Breadcrumb Navigation
----------------------------------------------------------- */
.breadcrumb-nav {
  background: var(--panel);
  border-bottom: 1px solid var(--border);
  padding: var(--space-3) 0;
}

.breadcrumb-list {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: 0;
  padding: 0;
  list-style: none;
}

.breadcrumb-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.breadcrumb-item:not(:last-child)::after {
  content: '›';
  color: var(--muted);
  font-size: 1.1rem;
}

.breadcrumb-link {
  color: var(--primary);
  text-decoration: none;
  font-size: 0.9rem;
  transition: color var(--transition-fast);
}

.breadcrumb-link:hover {
  color: var(--primary-strong);
  text-decoration: underline;
}

.breadcrumb-current {
  color: var(--text);
  font-size: 0.9rem;
  font-weight: 500;
}

/* -----------------------------------------------------------
   Header
----------------------------------------------------------- */
.site-header {
  position: sticky;
  top: 0;
  z-index: 100;
  background: color-mix(in oklab, var(--bg) 90%, transparent 10%);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid color-mix(in oklab, var(--border) 70%, transparent 30%);
  transition: background-color var(--transition-base), border-color var(--transition-base), transform var(--transition-base);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.site-header__inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 88px;
  gap: var(--space-4);
}

.site-header__brand {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  font-weight: 700;
  letter-spacing: -0.02em;
  font-size: 1rem;
  color: var(--text);
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

.site-header__brand-mark {
  display: grid;
  place-items: center;
  width: 42px;
  height: 42px;
  border-radius: 999px;
  overflow: hidden;
  background: color-mix(in oklab, var(--primary), transparent 65%);
  color: var(--accent);
  font-weight: 700;
  letter-spacing: 0;
}
.site-header__brand-mark img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  border-radius: inherit;
}


.site-header__toggle {
  display: none;
  flex-direction: column;
  gap: 5px;
  padding: 0.6rem;
  border-radius: 12px;
  background: color-mix(in oklab, var(--primary), transparent 85%);
  border: 1px solid color-mix(in oklab, var(--primary), transparent 70%);
  transition: all var(--transition-fast);
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

.site-header__toggle:hover {
  background: color-mix(in oklab, var(--primary), transparent 75%);
  border-color: var(--primary);
  transform: translateY(-1px);
}

.site-header__toggle:active {
  transform: translateY(0);
}

.site-header__toggle-bar {
  width: 24px;
  height: 3px;
  background: var(--primary);
  border-radius: 999px;
  transition: all var(--transition-base);
  transform-origin: center;
}

/* ハンバーガーメニューのアニメーション */
.site-header__toggle[aria-expanded="true"] .site-header__toggle-bar:nth-child(1) {
  transform: translateY(8px) rotate(45deg);
}

.site-header__toggle[aria-expanded="true"] .site-header__toggle-bar:nth-child(2) {
  opacity: 0;
  transform: scale(0);
}

.site-header__toggle[aria-expanded="true"] .site-header__toggle-bar:nth-child(3) {
  transform: translateY(-8px) rotate(-45deg);
}

.site-header__nav {
  display: flex;
  align-items: center;
  gap: var(--space-5);
}

.site-header__menu {
  display: flex;
  gap: var(--space-4);
  margin: 0;
  padding: 0;
  list-style: none;
}

.site-header__link {
  font-size: 0.92rem;
  font-weight: 500;
  color: var(--text);
  padding: 0.4rem 0;
  position: relative;
  transition: color var(--transition-fast);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.site-header__link::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -0.4rem;
  width: 100%;
  height: 2px;
  background: transparent;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--transition-fast), background-color var(--transition-fast);
}

.site-header__link:hover,
.site-header__link:focus-visible,
.site-header__link[aria-current="page"],
.site-header__link.active {
  color: var(--text);
}

.site-header__link:hover::after,
.site-header__link:focus-visible::after,
.site-header__link[aria-current="page"]::after,
.site-header__link.active::after {
  background: var(--accent);
  transform: scaleX(1);
}

.site-header__controls {
  display: flex;
  gap: var(--space-3);
}

.site-header__control {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.45rem 0.9rem;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: color-mix(in oklab, var(--card), transparent 40%);
  color: var(--muted);
  font-size: 0.88rem;
  transition: background-color var(--transition-fast), color var(--transition-fast);
}

.site-header__control:hover {
  color: var(--text);
  background: color-mix(in oklab, var(--card), white 9%);
}

.layout__sentinel {
  position: absolute;
  inset: 0;
  height: 1px;
}

@supports selector(body:has(.layout__sentinel:not(:in-view))) {
  body:has(.layout__sentinel:not(:in-view)) .site-header {
    background: color-mix(in oklab, var(--bg), transparent 5%);
    border-bottom-color: rgba(255, 255, 255, 0.08);
  }
  body:has(.layout__sentinel:not(:in-view)) .site-header__inner {
    min-height: 70px;
  }
  body:has(.layout__sentinel:not(:in-view)) .site-header__brand-mark {
    background: color-mix(in oklab, var(--primary), transparent 55%);
  }
}

@media (max-width: 800px) {
  .site-header__toggle {
    display: flex;
  }

  .site-header__nav {
    position: absolute;
    inset: 0;
    top: 100%;
    flex-direction: column;
    align-items: stretch;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    margin: 0.75rem auto 0;
    width: calc(100% - 2rem);
    padding: var(--space-5);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08);
    opacity: 0;
    pointer-events: none;
    transform: translateY(-12px);
    transition: opacity var(--transition-base), transform var(--transition-base);
    backdrop-filter: blur(20px);
  }

  .site-header__nav.open {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  .site-header__menu {
    flex-direction: column;
    gap: var(--space-1);
  }

  .site-header__menu-item {
    border-radius: var(--radius-sm);
    overflow: hidden;
  }

  .site-header__link {
    display: block;
    padding: var(--space-3) var(--space-4);
    font-size: 1rem;
    font-weight: 500;
    color: var(--text);
    background: transparent;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    position: relative;
  }

  .site-header__link:hover {
    background: color-mix(in oklab, var(--primary), transparent 90%);
    color: var(--primary);
    transform: translateX(4px);
  }

  .site-header__link::after {
    display: none;
  }

  .site-header__link.active {
    background: color-mix(in oklab, var(--primary), transparent 85%);
    color: var(--primary);
  }

  .site-header__controls {
    justify-content: stretch;
    margin-top: var(--space-4);
    padding-top: var(--space-4);
    border-top: 1px solid var(--border);
  }

  .site-header__control {
    justify-content: center;
    padding: var(--space-3);
    background: color-mix(in oklab, var(--card), transparent 50%);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
  }

  .site-header__control:hover {
    background: var(--card);
    border-color: var(--primary);
  }
}

/* -----------------------------------------------------------
   Hero
----------------------------------------------------------- */
.hero {
  position: relative;
}

.hero::before {
  content: '';
  position: absolute;
  inset: -20%;
  background: radial-gradient(circle at 25% 20%, color-mix(in oklab, var(--primary), transparent 70%) 0%, transparent 55%);
  opacity: 0.4;
  filter: blur(40px);
  z-index: -1;
}

.hero__grid {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 420px);
  gap: var(--space-7);
  align-items: stretch;
}

.hero__content {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
  position: relative;
  z-index: 2;
}

.hero__eyebrow {
  margin: 0;
  font-size: 0.9rem;
  color: var(--accent);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

.hero__title {
  margin: 0;
  font-size: clamp(2.5rem, 4vw, 3.4rem);
  letter-spacing: -0.02em;
  color: var(--text);
  text-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

.hero__lead {
  margin: 0;
  color: var(--muted);
  font-size: 1.08rem;
  max-width: 32rem;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

.hero__metrics {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-4);
}

.hero__metric {
  background: color-mix(in oklab, var(--card), transparent 50%);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: var(--radius-sm);
  padding: var(--space-4);
}

.hero__metric-value {
  display: block;
  font-size: 1.4rem;
  font-weight: 700;
  letter-spacing: -0.01em;
}

.hero__metric-label {
  display: block;
  color: var(--accent);
  font-weight: 600;
}

.hero__metric-detail {
  color: var(--muted);
  font-size: 0.85rem;
}

.hero__actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
}

.hero__badge-track {
  display: flex;
  gap: var(--space-2);
  overflow-x: auto;
  padding-bottom: var(--space-1);
  scrollbar-width: thin;
}

.hero__badge-track::-webkit-scrollbar {
  height: 4px;
}

.hero__badge-track::-webkit-scrollbar-thumb {
  background: color-mix(in oklab, var(--primary), transparent 60%);
  border-radius: 999px;
}

.hero__showcase {
  position: relative;
}

.hero-card {
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.hero-card__visual-only {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  min-height: 300px;
  background: linear-gradient(135deg, color-mix(in oklab, var(--primary), transparent 85%) 0%, color-mix(in oklab, var(--accent), transparent 90%) 100%);
  border-radius: var(--radius-md);
  padding: var(--space-6);
}

.hero-card__visual {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: var(--space-3);
  min-height: 200px;
  background: linear-gradient(135deg, color-mix(in oklab, var(--primary), transparent 85%) 0%, color-mix(in oklab, var(--accent), transparent 90%) 100%);
  border-radius: var(--radius-md);
  padding: var(--space-4);
}

.hero-card__main-image {
  max-width: 100%;
  max-height: 250px;
  width: auto;
  height: auto;
  border-radius: var(--radius-md);
  object-fit: cover;
  box-shadow: var(--shadow-card);
  transition: transform var(--transition-base);
}

.hero-card__main-image:hover {
  transform: scale(1.02);
}

.hero-card__metrics {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-3);
}

.hero-card__metric {
  background: color-mix(in oklab, var(--panel), transparent 60%);
  border-radius: var(--radius-sm);
  padding: var(--space-3);
  text-align: center;
}

.hero-card__metric-value {
  display: block;
  font-size: 1.3rem;
  font-weight: 700;
}

.hero-card__metric-label {
  display: block;
  font-size: 0.85rem;
  color: var(--muted);
}

/* -----------------------------------------------------------
   About
----------------------------------------------------------- */
.about__grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-5);
}

.about-card {
  padding: var(--space-5);
  min-height: 240px;
}

.about-card__title {
  margin: 0 0 var(--space-3);
  font-size: 1.4rem;
}

.about-card__body {
  margin: 0;
  color: var(--muted);
}

/* -----------------------------------------------------------
   Projects Horizontal Slider (1x3 Grid)
----------------------------------------------------------- */
.projects-horizontal-slider {
  position: relative;
  overflow: hidden;
}

.projects-horizontal-slider__container {
  overflow: hidden;
  border-radius: var(--radius-md);
}

.projects-horizontal-slider__track {
  display: flex;
  transition: transform var(--transition-base);
  will-change: transform;
}

.projects-horizontal-slide {
  min-width: 100%;
  flex-shrink: 0;
}

.projects-row {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-5);
  max-width: 1200px;
  margin: 0 auto;
}

.project-row-card {
  display: flex;
  flex-direction: column;
  padding: var(--space-5);
  height: 100%;
  background: color-mix(in srgb, var(--card) 80%, transparent 20%);
  border-radius: var(--radius-md);
  border: 1px solid color-mix(in srgb, var(--border) 40%, transparent 60%);
  transition: transform var(--transition-base), box-shadow var(--transition-base);
  min-height: 400px;
}

.project-row-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-card);
}

.project-row-card__header {
  margin-bottom: var(--space-4);
  text-align: center;
}

.project-row-card__category {
  display: inline-block;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-2);
  padding: var(--space-1) var(--space-2);
  background: color-mix(in oklab, var(--primary), transparent 85%);
  border-radius: var(--radius-sm);
}

.project-row-card__title {
  margin: 0;
  font-size: 1.4rem;
  line-height: 1.3;
  font-weight: 600;
  text-align: center;
}

.project-row-card__content {
  flex-grow: 1;
  margin-bottom: var(--space-4);
}

.project-row-card__summary {
  margin: 0 0 var(--space-4);
  font-size: 0.95rem;
  color: var(--muted);
  line-height: 1.5;
  text-align: center;
}

.project-row-card__tech {
  margin-bottom: var(--space-4);
}

.project-row-card__tech h4 {
  margin: 0 0 var(--space-2);
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text);
  text-align: center;
}

.project-row-card__tags {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--space-1);
  margin: 0;
  list-style: none;
  padding: 0;
}

.project-row-card__tags .badge {
  font-size: 0.75rem;
  padding: var(--space-1) var(--space-2);
}

.project-row-card__actions {
  display: flex;
  justify-content: center;
  gap: var(--space-2);
  margin-top: auto;
}

/* スライダーコントロール */
.projects-horizontal-slider__controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
  margin-top: var(--space-5);
}

.projects-horizontal-slider__nav {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border: none;
  background: var(--card);
  color: var(--text);
  border-radius: 50%;
  font-size: 1.5rem;
  cursor: pointer;
  transition: all var(--transition-base);
  box-shadow: var(--shadow-soft);
}

.projects-horizontal-slider__nav:hover {
  background: var(--primary);
  color: white;
  transform: scale(1.1);
}

.projects-horizontal-slider__nav:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.projects-horizontal-slider__nav:disabled:hover {
  background: var(--card);
  color: var(--text);
}

.projects-horizontal-slider__indicators {
  display: flex;
  gap: var(--space-2);
}

.projects-horizontal-slider__indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border: 2px solid var(--border);
  background: transparent;
  color: var(--muted);
  border-radius: 50%;
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-base);
}

.projects-horizontal-slider__indicator:hover,
.projects-horizontal-slider__indicator.active {
  border-color: var(--primary);
  background: var(--primary);
  color: white;
}

/* -----------------------------------------------------------
   Projects Simple Grid - Legacy (保持しておく)
----------------------------------------------------------- */
.projects-simple-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: var(--space-5);
  max-width: 1200px;
  margin: 0 auto;
}

.project-simple-card {
  display: flex;
  flex-direction: column;
  padding: var(--space-5);
  height: 100%;
  background: color-mix(in srgb, var(--card) 80%, transparent 20%);
  border-radius: var(--radius-md);
  border: 1px solid color-mix(in srgb, var(--border) 40%, transparent 60%);
  transition: transform var(--transition-base), box-shadow var(--transition-base);
  min-height: 320px;
}

.project-simple-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-card);
}

.project-simple-card__header {
  margin-bottom: var(--space-4);
  text-align: center;
}

.project-simple-card__category {
  display: inline-block;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-2);
  padding: var(--space-1) var(--space-2);
  background: color-mix(in oklab, var(--primary), transparent 85%);
  border-radius: var(--radius-sm);
}

.project-simple-card__title {
  margin: 0;
  font-size: 1.4rem;
  line-height: 1.3;
  font-weight: 600;
  text-align: center;
}

.project-simple-card__content {
  flex-grow: 1;
  margin-bottom: var(--space-4);
}

.project-simple-card__summary {
  margin: 0 0 var(--space-4);
  font-size: 0.95rem;
  color: var(--muted);
  line-height: 1.5;
  text-align: center;
}

.project-simple-card__tech {
  margin-bottom: var(--space-4);
}

.project-simple-card__tech h4 {
  margin: 0 0 var(--space-2);
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text);
  text-align: center;
}

.project-simple-card__tags {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--space-1);
  margin: 0;
  list-style: none;
  padding: 0;
}

.project-simple-card__tags .badge {
  font-size: 0.75rem;
  padding: var(--space-1) var(--space-2);
}

.project-simple-card__actions {
  display: flex;
  justify-content: center;
  gap: var(--space-2);
  margin-top: auto;
}

/* -----------------------------------------------------------
   Projects Slider - Legacy (保持しておく)
----------------------------------------------------------- */
.projects-slider {
  position: relative;
  overflow: hidden;
}

.projects-slider__container {
  overflow: hidden;
  border-radius: var(--radius-md);
}

.projects-slider__track {
  display: flex;
  transition: transform var(--transition-base);
  will-change: transform;
}

.projects-slide {
  min-width: 100%;
  flex-shrink: 0;
}

.projects-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  grid-template-rows: repeat(3, 1fr);
  gap: var(--space-4);
  min-height: 600px;
}

.project-grid-card {
  display: flex;
  flex-direction: column;
  padding: var(--space-4);
  height: 100%;
  background: color-mix(in srgb, var(--card) 80%, transparent 20%);
  border-radius: var(--radius-md);
  border: 1px solid color-mix(in srgb, var(--border) 40%, transparent 60%);
  transition: transform var(--transition-base), box-shadow var(--transition-base);
}

.project-grid-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-card);
}

.project-grid-card__header {
  margin-bottom: var(--space-3);
}

.project-grid-card__category {
  display: inline-block;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-1);
}

.project-grid-card__title {
  margin: 0 0 var(--space-2);
  font-size: 1.1rem;
  line-height: 1.3;
  font-weight: 600;
}

.project-grid-card__summary {
  margin: 0 0 var(--space-3);
  font-size: 0.9rem;
  color: var(--muted);
  line-height: 1.4;
  flex-grow: 1;
}

.project-grid-card__metrics {
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.project-grid-card__metric {
  flex: 1;
  text-align: center;
  padding: var(--space-2);
  background: color-mix(in oklab, var(--panel), transparent 50%);
  border-radius: var(--radius-sm);
}

.project-grid-card__metric-value {
  display: block;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text);
}

.project-grid-card__metric-label {
  display: block;
  font-size: 0.7rem;
  color: var(--muted);
  margin-top: var(--space-1);
}

.project-grid-card__tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
  margin: 0 0 var(--space-3);
  list-style: none;
  padding: 0;
}

.project-grid-card__tags .badge {
  font-size: 0.7rem;
  padding: var(--space-1) var(--space-2);
}

.project-grid-card__actions {
  display: flex;
  gap: var(--space-2);
  margin-top: auto;
}

.btn--sm {
  padding: var(--space-1) var(--space-2);
  font-size: 0.8rem;
}

/* スライダーコントロール */
.projects-slider__controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
  margin-top: var(--space-5);
}

.projects-slider__nav {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border: none;
  background: var(--card);
  color: var(--text);
  border-radius: 50%;
  font-size: 1.5rem;
  cursor: pointer;
  transition: all var(--transition-base);
  box-shadow: var(--shadow-soft);
}

.projects-slider__nav:hover {
  background: var(--primary);
  color: white;
  transform: scale(1.1);
}

.projects-slider__nav:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.projects-slider__nav:disabled:hover {
  background: var(--card);
  color: var(--text);
}

.projects-slider__indicators {
  display: flex;
  gap: var(--space-2);
}

.projects-slider__indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border: 2px solid var(--border);
  background: transparent;
  color: var(--muted);
  border-radius: 50%;
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-base);
}

.projects-slider__indicator:hover,
.projects-slider__indicator.active {
  border-color: var(--primary);
  background: var(--primary);
  color: white;
}

/* -----------------------------------------------------------
   Featured Projects (Index) - Legacy
----------------------------------------------------------- */
.featured-projects {
  display: grid;
  gap: var(--space-6);
}

.project-card {
  display: grid;
  grid-template-columns: minmax(0, 2fr) minmax(0, 1fr);
  gap: var(--space-5);
  align-items: stretch;
}

.project-card__body {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.project-card__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  color: var(--muted);
  font-size: 0.85rem;
}

.project-card__title {
  margin: 0;
  font-size: 1.8rem;
  letter-spacing: -0.015em;
}

.project-card__summary {
  margin: 0;
  color: var(--muted);
}

.project-card__metrics {
  display: flex;
  gap: var(--space-3);
}

.project-card__metric {
  background: color-mix(in oklab, var(--panel), transparent 10%);
  border-radius: var(--radius-sm);
  padding: var(--space-3);
  min-width: 110px;
}

.project-card__metric-value {
  font-size: 1.25rem;
  font-weight: 700;
}

.project-card__metric-label {
  display: block;
  font-size: 0.82rem;
  color: var(--muted);
}

.project-card__outcomes {
  margin: 0;
  padding-left: 1rem;
  color: var(--muted);
  display: grid;
  gap: var(--space-2);
}

.project-card__tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin: 0;
  padding: 0;
  list-style: none;
}

.project-card__actions {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.project-card__media {
  position: relative;
  display: grid;
  place-items: center;
}

.project-card__preview {
  width: 100%;
  height: 100%;
  border-radius: var(--radius-md);
  border: 1px dashed rgba(125, 211, 252, 0.3);
  display: grid;
  place-items: center;
  padding: var(--space-5);
  color: var(--accent);
  text-align: center;
  font-size: 1rem;
  letter-spacing: 0.02em;
  background: linear-gradient(135deg, color-mix(in oklab, var(--primary), transparent 80%) 0%, transparent 100%);
}

/* Category accent colors */
[data-category*="研究"] .project-card__category,
[data-category*="研究"] .card__eyebrow {
  color: #facc15;
}

[data-category*="実務"] .project-card__category,
[data-category*="DX"] .project-card__category {
  color: #34d399;
}

[data-category*="個人"] .project-card__category {
  color: #f472b6;
}

/* -----------------------------------------------------------
   Research Highlight
----------------------------------------------------------- */
.research-card {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1.2fr);
  gap: var(--space-5);
  align-items: stretch;
}

.research-card__media {
  display: grid;
  place-items: center;
}

.research-card__diagram {
  width: 100%;
  aspect-ratio: 4 / 3;
  border-radius: var(--radius-md);
  background: radial-gradient(circle at 40% 40%, color-mix(in oklab, var(--accent), transparent 70%) 0%, transparent 70%);
  border: 1px dashed rgba(125, 211, 252, 0.3);
  display: grid;
  place-items: center;
  color: var(--accent);
  font-weight: 600;
  letter-spacing: 0.03em;
}

.research-card__body {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.research-card__outcomes {
  margin: 0;
  padding-left: 1rem;
  color: var(--muted);
  display: grid;
  gap: var(--space-2);
}

.research-card__links {
  display: flex;
  gap: var(--space-3);
}

/* -----------------------------------------------------------
   Timeline preview (Index)
----------------------------------------------------------- */
.timeline-preview {
  display: grid;
  gap: var(--space-4);
}

.timeline-preview__item {
  display: grid;
  grid-template-columns: 160px minmax(0, 1fr);
  gap: var(--space-4);
  padding: var(--space-4);
  border-radius: var(--radius-md);
  background: color-mix(in oklab, var(--card), transparent 60%);
  border: 1px solid rgba(255, 255, 255, 0.03);
}

.timeline-preview__period {
  font-weight: 600;
  color: var(--accent);
}

.timeline-preview__content h3 {
  margin: 0 0 var(--space-2);
  font-size: 1.2rem;
}

.timeline-preview__content p {
  margin: 0 0 var(--space-3);
  color: var(--muted);
}

.timeline-preview__tags {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

/* -----------------------------------------------------------
   Skills
----------------------------------------------------------- */
.skills-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-5);
}

.skills-card {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.skills-card__title {
  margin: 0;
  font-size: 1.2rem;
}

.skills-card__list {
  margin: 0;
  padding-left: 1rem;
  color: var(--muted);
  display: grid;
  gap: var(--space-2);
}

/* -----------------------------------------------------------
   Contact
----------------------------------------------------------- */
.contact {
  display: grid;
  grid-template-columns: minmax(0, 320px) minmax(0, 1fr);
  gap: var(--space-6);
  align-items: start;
}

.contact__panel {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  background: color-mix(in oklab, var(--panel), transparent 70%);
  border-radius: var(--radius-md);
  padding: var(--space-5);
  border: 1px solid rgba(255, 255, 255, 0.03);
}

.contact__headline {
  margin: 0;
  font-size: 1.1rem;
}

.contact__links {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: var(--space-2);
}

.contact__link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: 0.55rem 0.9rem;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: color-mix(in oklab, var(--card), transparent 35%);
  color: var(--accent);
  transition: background-color var(--transition-fast), transform var(--transition-fast);
}

.contact__link:hover {
  transform: translateY(-2px);
  background: color-mix(in oklab, var(--card), white 12%);
}

.contact__form {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.form__row {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-4);
}

.form__field {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.form__label {
  font-weight: 600;
  font-size: 0.95rem;
}

.form__input,
.form__textarea,
.form__select {
  width: 100%;
  padding: 0.75rem 0.95rem;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: color-mix(in oklab, var(--panel), transparent 15%);
  color: var(--text);
  font: inherit;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.form__input:focus,
.form__textarea:focus,
.form__select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 1px color-mix(in oklab, var(--accent), transparent 30%);
}

.form__textarea {
  resize: vertical;
  min-height: 180px;
}

.form__error {
  min-height: 1.2em;
  font-size: 0.8rem;
  color: #fca5a5;
}

.contact__submit {
  align-self: flex-start;
}

/* -----------------------------------------------------------
   Projects Archive Page
----------------------------------------------------------- */
.project-catalog {
  display: grid;
  gap: var(--space-6);
}

.project-catalog__item {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.project-catalog__meta {
  display: flex;
  gap: var(--space-3);
  color: var(--muted);
  font-size: 0.85rem;
}

.project-catalog__title {
  margin: 0;
  font-size: 1.7rem;
}

.project-catalog__role {
  margin: 0;
  color: var(--muted);
}

.project-catalog__summary {
  margin: 0;
  color: var(--muted);
}

.project-catalog__metrics {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.project-catalog__metric {
  background: color-mix(in oklab, var(--panel), transparent 10%);
  border-radius: var(--radius-sm);
  padding: var(--space-3);
  min-width: 120px;
}

.project-catalog__metric-value {
  display: block;
  font-weight: 700;
  font-size: 1.1rem;
}

.project-catalog__metric-label {
  display: block;
  font-size: 0.8rem;
  color: var(--muted);
}

.project-catalog__notes {
  margin: 0;
  padding-left: 1rem;
  color: var(--muted);
  display: grid;
  gap: var(--space-2);
}

.project-catalog__tags {
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.project-catalog__actions {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

/* -----------------------------------------------------------
   Timeline Page Improvements
----------------------------------------------------------- */
.timeline-hero__layout {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: var(--space-6);
}

.timeline-hero__content {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.timeline-hero__profile {
  flex: 0 0 auto;
  margin: 0;
  width: clamp(200px, 26vw, 280px);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-card);
  background: var(--card);
}

.timeline-hero__profile img {
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 1;
  object-fit: cover;
}

.timeline-hero__stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: var(--space-4);
  margin-top: var(--space-5);
}

.timeline-hero__stat {
  padding: var(--space-4);
  border-radius: var(--radius-md);
  background: var(--card);
  border: 1px solid var(--border);
  text-align: center;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.timeline-hero__stat:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-card);
}

.timeline-hero__stat-value {
  display: block;
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--primary);
}

.timeline-hero__stat-label {
  display: block;
  font-size: 0.85rem;
  color: var(--muted);
  margin-top: var(--space-1);
}

.timeline-section {
  margin-top: var(--space-6);
}

.timeline-group {
  display: grid;
  gap: var(--space-5);
  margin-bottom: var(--space-8);
}

.timeline-group__header {
  display: flex;
  align-items: baseline;
  gap: var(--space-3);
  margin-bottom: var(--space-5);
  padding-bottom: var(--space-3);
  border-bottom: 2px solid var(--border);
}

.timeline-group__year {
  font-size: 2.2rem;
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--primary);
}

.timeline-group__subtitle {
  color: var(--text);
  opacity: 0.8;
  margin: 0;
  font-size: 1.1rem;
}

.timeline-list--desktop ol {
  list-style: none;
  margin: 0;
  padding: 0;
  position: relative;
}

.timeline-list--desktop ol::before {
  content: '';
  position: absolute;
  top: 0.5rem;
  left: 0.6rem;
  width: 3px;
  height: calc(100% - 1rem);
  background: var(--primary);
  opacity: 0.6;
  border-radius: 2px;
}

.timeline-item {
  position: relative;
  padding-left: 2.4rem;
  margin-bottom: var(--space-6);
}

.timeline-item__marker {
  position: absolute;
  left: 0;
  top: 0.45rem;
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: var(--primary);
  box-shadow: 0 0 0 4px var(--bg), 0 0 0 6px var(--primary);
  border: 2px solid var(--bg);
  opacity: 1;
}

.timeline-item__body {
  background: var(--card);
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  padding: var(--space-5);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.timeline-item__body:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.timeline-item__header {
  display: flex;
  justify-content: space-between;
  gap: var(--space-3);
  align-items: baseline;
  margin-bottom: var(--space-3);
  flex-wrap: wrap;
}

.timeline-item__period {
  color: var(--primary);
  font-weight: 600;
  font-size: 0.9rem;
  padding: var(--space-1) var(--space-2);
  background: color-mix(in oklab, var(--primary), transparent 85%);
  border-radius: var(--radius-sm);
}

.timeline-item__title {
  margin: 0;
  font-size: 1.3rem;
  color: var(--text);
  flex: 1;
}

.timeline-item__summary {
  margin: 0 0 var(--space-4);
  color: var(--text);
  opacity: 0.9;
  line-height: 1.6;
}

.timeline-item__bullets {
  margin: 0 0 var(--space-4);
  padding-left: 1.2rem;
  color: var(--text);
  opacity: 0.85;
  display: grid;
  gap: var(--space-2);
}

.timeline-item__bullets li {
  line-height: 1.5;
  position: relative;
}

.timeline-item__bullets li::marker {
  color: var(--accent);
}

.timeline-item__tags {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.timeline-ongoing {
  margin-top: var(--space-8);
}

.timeline-ongoing__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-5);
}

.timeline-ongoing__item {
  padding: var(--space-5);
  transition: transform var(--transition-fast);
}

.timeline-ongoing__item:hover {
  transform: translateY(-2px);
}

.timeline-ongoing__title {
  margin: 0 0 var(--space-3) 0;
  font-size: 1.2rem;
  color: var(--primary);
}

.timeline-ongoing__description {
  margin: 0;
  color: var(--muted);
  line-height: 1.6;
}

/* Timeline accordion for mobile */
.timeline-accordion {
  display: none;
}

.timeline-accordion__item {
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  background: var(--card);
  margin-bottom: var(--space-3);
}

.timeline-accordion__item summary {
  cursor: pointer;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  padding: var(--space-4);
  font-weight: 600;
  border-bottom: 1px solid var(--border);
}

.timeline-accordion__item summary::-webkit-details-marker {
  display: none;
}

.timeline-accordion__item[open] summary {
  border-bottom: 1px solid var(--border);
}

.timeline-accordion__period {
  color: var(--primary);
  font-size: 0.85rem;
  font-weight: 500;
}

.timeline-accordion__title {
  color: var(--text);
  font-size: 1.1rem;
}

.timeline-accordion__content {
  padding: var(--space-4);
  color: var(--text);
  opacity: 0.9;
  display: grid;
  gap: var(--space-3);
}

.timeline-accordion__content ul {
  margin: 0;
  padding-left: 1.2rem;
}

.timeline-accordion__content ul li {
  margin-bottom: var(--space-1);
  line-height: 1.5;
}

.timeline-accordion__tags {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.timeline-ongoing__grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-5);
}

.timeline-ongoing__item {
  padding: var(--space-5);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.timeline-ongoing__title {
  margin: 0;
  font-size: 1.3rem;
}

.timeline-ongoing__description {
  margin: 0;
  color: var(--muted);
}

/* -----------------------------------------------------------
   Footer
----------------------------------------------------------- */
.site-footer {
  background: color-mix(in oklab, var(--bg), transparent 30%);
  border-top: 1px solid rgba(255, 255, 255, 0.04);
  padding-top: var(--space-section-desktop);
}

.site-footer__inner {
  display: flex;
  gap: var(--space-6);
  justify-content: space-between;
  flex-wrap: wrap;
}

.site-footer__brand-name {
  font-weight: 700;
  letter-spacing: -0.01em;
  font-size: 1.2rem;
}

.site-footer__description {
  margin: var(--space-3) 0 0;
  color: var(--muted);
  max-width: 360px;
}

.site-footer__cta {
  max-width: 460px;
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.site-footer__title {
  margin: 0;
  font-size: 1.4rem;
}

.site-footer__text {
  margin: 0;
  color: var(--muted);
}

.site-footer__links {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.site-footer__link {
  font-weight: 600;
  color: var(--accent);
}

.site-footer__bottom {
  margin-top: var(--space-section-desktop);
  padding: var(--space-4) 0;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.site-footer__bottom-inner {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.site-footer__note {
  margin: 0;
  color: var(--muted);
}

/* -----------------------------------------------------------
   Reveal Animation
----------------------------------------------------------- */
.reveal {
  opacity: 1;
  transform: none;
}

.js-loaded .reveal:not(.in):not([data-revealed="true"]) {
  opacity: 0;
  transform: translateY(30px);
}

.reveal.in,
.reveal[data-revealed="true"] {
  opacity: 1 !important;
  transform: none !important;
  transition: opacity 0.4s ease, transform 0.4s ease !important;
}

/* -----------------------------------------------------------
   Responsive
----------------------------------------------------------- */
@media (max-width: 1000px) {
  .hero__grid {
    grid-template-columns: minmax(0, 1fr);
  }
  .hero__showcase {
    order: -1;
  }
  .hero-card__metrics {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .about__grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .project-card {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .research-card {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .timeline-hero__layout {
    flex-direction: column;
    align-items: flex-start;
  }

  .timeline-hero__profile {
    order: -1;
    align-self: center;
    width: clamp(220px, 55vw, 340px);
  }

  .skills-grid,
  .timeline-hero__stats {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .contact {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .form__row {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .timeline-ongoing__grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 800px) {
  .hero__metrics {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .timeline-preview__item {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .project-catalog__meta {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-1);
  }

  .project-catalog__metrics {
    justify-content: flex-start;
  }

  /* プロジェクト横スライダー */
  .projects-row {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-4);
  }

  .project-row-card {
    padding: var(--space-4);
    min-height: 350px;
  }

  .projects-horizontal-slider__controls {
    gap: var(--space-3);
  }

  /* プロジェクト簡単グリッド */
  .projects-simple-grid {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-4);
  }

  .project-simple-card {
    padding: var(--space-4);
    min-height: 280px;
  }

  /* プロジェクトスライダー */
  .projects-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-rows: repeat(auto, 1fr);
    min-height: auto;
  }

  .projects-slider__controls {
    gap: var(--space-3);
  }
}

@media (max-width: 640px) {
  .hero__metrics {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .hero-card__visual-only {
    min-height: 200px;
    padding: var(--space-4);
  }

  /* プロジェクト横スライダー */
  .projects-row {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }

  .project-row-card {
    padding: var(--space-3);
    min-height: 300px;
  }

  .project-row-card__title {
    font-size: 1.2rem;
  }

  .projects-horizontal-slider__controls {
    gap: var(--space-2);
    margin-top: var(--space-4);
  }

  .projects-horizontal-slider__nav {
    width: 36px;
    height: 36px;
    font-size: 1.2rem;
  }

  .projects-horizontal-slider__indicator {
    width: 28px;
    height: 28px;
    font-size: 0.7rem;
  }

  /* プロジェクト簡単グリッド */
  .projects-simple-grid {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }

  .project-simple-card {
    padding: var(--space-3);
    min-height: 240px;
  }

  .project-simple-card__title {
    font-size: 1.2rem;
  }

  /* プロジェクトスライダー */
  .projects-grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: var(--space-3);
  }

  .project-grid-card {
    padding: var(--space-3);
  }

  .projects-slider__controls {
    gap: var(--space-2);
    margin-top: var(--space-4);
  }

  .projects-slider__nav {
    width: 36px;
    height: 36px;
    font-size: 1.2rem;
  }

  .projects-slider__indicator {
    width: 28px;
    height: 28px;
    font-size: 0.7rem;
  }

  .hero-card__visual {
    min-height: 150px;
    padding: var(--space-3);
  }

  .hero-card__main-image {
    max-height: 180px;
  }

  .hero-card__metrics {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .timeline-hero__layout {
    align-items: center;
  }

  .timeline-hero__content {
    align-items: center;
    text-align: center;
  }

  .about__grid,
  .skills-grid,
  .timeline-hero__stats,
  .timeline-ongoing__grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .timeline-list--desktop {
    display: none;
  }

  .timeline-accordion {
    display: block;
  }

  .timeline-group__header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }
}

/* -----------------------------------------------------------
   Light Mode Enhancements
----------------------------------------------------------- */
[data-theme="light"] .card {
  border: 1px solid rgba(209, 213, 219, 0.5);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03), 0 2px 4px rgba(0, 0, 0, 0.05);
  background: color-mix(in srgb, #ffffff 75%, transparent 25%);
}

[data-theme="light"] .card:hover {
  border-color: var(--primary);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.10), 0 4px 8px rgba(0, 0, 0, 0.12);
}

[data-theme="light"] .section--layer {
  border-top: 1px solid rgba(209, 213, 219, 0.3);
  border-bottom: 1px solid rgba(209, 213, 219, 0.3);
  background: transparent;
}

[data-theme="light"] .site-header {
  border-bottom: 1px solid #e5e7eb;
  backdrop-filter: blur(12px);
  background: rgba(248, 250, 252, 0.95);
}

[data-theme="light"] .badge--soft {
  background: rgba(37, 99, 235, 0.08);
  color: #1e40af;
  border: 1px solid rgba(37, 99, 235, 0.20);
}

[data-theme="light"] .badge--pill {
  background: #f1f5f9;
  color: #475569;
  border: 1px solid #e2e8f0;
}

/* Timeline improvements for light mode */
[data-theme="light"] .timeline-item__body {
  background: #ffffff;
  border: 1px solid #d1d5db;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.06);
}

[data-theme="light"] .timeline-item__marker {
  background: var(--primary);
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.15);
}

[data-theme="light"] .timeline-accordion__item {
  border: 1px solid #d1d5db;
  background: #ffffff;
}

[data-theme="light"] .timeline-accordion__item summary {
  border-bottom: 1px solid #e5e7eb;
}

/* Form improvements for light mode */
[data-theme="light"] .form__input,
[data-theme="light"] .form__textarea,
[data-theme="light"] .form__select {
  border: 1px solid #d1d5db;
  background: #ffffff;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .form__input:focus,
[data-theme="light"] .form__textarea:focus,
[data-theme="light"] .form__select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1), inset 0 1px 2px rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .form__input::placeholder,
[data-theme="light"] .form__textarea::placeholder {
  color: #9ca3af;
}

/* ライトテーマでのハンバーガーメニュー改善 */
[data-theme="light"] .site-header__toggle {
  background: rgba(37, 99, 235, 0.1);
  border-color: rgba(37, 99, 235, 0.3);
}

[data-theme="light"] .site-header__toggle:hover {
  background: rgba(37, 99, 235, 0.15);
  border-color: var(--primary);
}

[data-theme="light"] .site-header__toggle-bar {
  background: var(--primary);
}

[data-theme="light"] .breadcrumb-nav {
  background: color-mix(in srgb, #f9fafb, transparent 50%);
  border-bottom-color: rgba(229, 231, 235, 0.5);
}

[data-theme="light"] .breadcrumb-link {
  color: var(--primary);
}

[data-theme="light"] .breadcrumb-link:hover {
  color: var(--primary-strong);
}

/* ライトテーマでのモバイルナビゲーション */
@media (max-width: 800px) {
  [data-theme="light"] .site-header__nav {
    background: rgba(255, 255, 255, 0.95);
    border-color: #e5e7eb;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06);
  }

  [data-theme="light"] .site-header__link:hover {
    background: rgba(37, 99, 235, 0.08);
    color: var(--primary);
  }

  [data-theme="light"] .site-header__link.active {
    background: rgba(37, 99, 235, 0.12);
    color: var(--primary);
  }

  [data-theme="light"] .site-header__control {
    background: #f9fafb;
    border-color: #e5e7eb;
  }

  [data-theme="light"] .site-header__control:hover {
    background: #ffffff;
    border-color: var(--primary);
  }
}

/* Additional UI improvements for light mode */
[data-theme="light"] .project-card,
[data-theme="light"] .hero-card {
  border: 1px solid rgba(229, 231, 235, 0.7);
  background: color-mix(in srgb, #ffffff 80%, transparent 20%);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.03), 0 1px 3px rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .project-card:hover,
[data-theme="light"] .hero-card:hover {
  border-color: var(--primary);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.05), 0 4px 6px rgba(0, 0, 0, 0.07);
}

/* -----------------------------------------------------------
   Breadcrumb Navigation
----------------------------------------------------------- */
.breadcrumb-nav {
  padding: var(--space-4) 0;
  background: color-mix(in srgb, var(--bg), transparent 40%);
  border-bottom: 1px solid color-mix(in srgb, var(--border), transparent 50%);
}

.breadcrumb-list {
  display: flex;
  align-items: center;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: var(--space-2);
}

.breadcrumb-item {
  display: flex;
  align-items: center;
  font-size: 0.9rem;
}

.breadcrumb-item:not(:last-child)::after {
  content: '›';
  margin-left: var(--space-2);
  color: var(--muted);
  font-weight: 500;
}

.breadcrumb-link {
  color: var(--primary);
  text-decoration: none;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  transition: background-color var(--transition-fast);
}

.breadcrumb-link:hover {
  background: var(--surface-contrast);
  color: var(--primary-strong);
}

.breadcrumb-current {
  color: var(--text);
  font-weight: 500;
  padding: var(--space-1) var(--space-2);
}

/* -----------------------------------------------------------
   Resume Page Styles
----------------------------------------------------------- */
.resume-hero {
  padding: var(--space-section-desktop) 0;
  background: var(--panel);
  border-bottom: 1px solid var(--border);
}

.resume-header {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: var(--space-6);
  align-items: center;
}

.profile-image {
  flex-shrink: 0;
}

.profile-image img {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--primary);
}

.profile-info h1 {
  margin: 0 0 var(--space-2) 0;
  font-size: 2.5rem;
  letter-spacing: -0.02em;
}

.profile-title {
  margin: 0 0 var(--space-3) 0;
  color: var(--primary);
  font-size: 1.2rem;
  font-weight: 500;
}

.profile-summary {
  margin: 0 0 var(--space-5) 0;
  color: var(--muted);
  line-height: 1.7;
  max-width: 600px;
}

.profile-contact {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-3);
  margin-bottom: var(--space-5);
}

.contact-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.contact-label {
  font-weight: 500;
  color: var(--text);
  min-width: 60px;
}

.contact-item a {
  color: var(--primary);
  text-decoration: underline;
}

.contact-item a:hover {
  color: var(--primary-strong);
}

.resume-actions {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.resume-content {
  padding: var(--space-section-desktop) 0;
}

.resume-grid {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: var(--space-8);
  align-items: start;
}

.resume-main {
  min-width: 0;
}

.resume-section {
  margin-bottom: var(--space-8);
}

.resume-section h2 {
  margin: 0 0 var(--space-5) 0;
  font-size: 1.8rem;
  letter-spacing: -0.01em;
  padding-bottom: var(--space-3);
  border-bottom: 2px solid var(--primary);
}

.experience-timeline {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.timeline-item {
  display: grid;
  grid-template-columns: 160px 1fr;
  gap: var(--space-5);
  padding: var(--space-5);
  background: var(--card);
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
}

.timeline-date {
  font-size: 0.9rem;
  color: var(--primary);
  font-weight: 500;
  text-align: right;
  padding-top: var(--space-1);
}

.timeline-content h3 {
  margin: 0 0 var(--space-2) 0;
  font-size: 1.3rem;
  color: var(--text);
}

.timeline-role {
  margin: 0 0 var(--space-3) 0;
  color: var(--muted);
  font-style: italic;
  font-size: 0.95rem;
}

.timeline-content > p {
  margin: 0 0 var(--space-3) 0;
  color: var(--muted);
  line-height: 1.6;
}

.timeline-achievements {
  margin: 0;
  padding-left: var(--space-5);
  color: var(--muted);
}

.timeline-achievements li {
  margin-bottom: var(--space-2);
  line-height: 1.5;
}

.skill-group {
  margin-bottom: var(--space-6);
}

.skill-group h3 {
  margin: 0 0 var(--space-4) 0;
  font-size: 1.2rem;
  color: var(--text);
}

.skill-items {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.skill-item {
  padding: var(--space-4);
  background: var(--card);
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
}

.skill-name {
  font-weight: 600;
  margin-bottom: var(--space-2);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.skill-level {
  width: 80px;
  height: 6px;
  background: var(--border);
  border-radius: 3px;
  position: relative;
  overflow: hidden;
}

.skill-level::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: var(--primary);
  border-radius: 3px;
  transition: width var(--transition-base);
}

.skill-level.expert::after { width: 90%; }
.skill-level.advanced::after { width: 75%; }
.skill-level.intermediate::after { width: 60%; }
.skill-level.beginner::after { width: 40%; }

.skill-description {
  margin: var(--space-2) 0 0 0;
  color: var(--muted);
  font-size: 0.9rem;
  line-height: 1.5;
}

.achievements-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.achievement {
  padding: var(--space-5);
  background: var(--card);
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
}

.achievement h3 {
  margin: 0 0 var(--space-3) 0;
  font-size: 1.2rem;
  color: var(--primary);
}

.achievement p {
  margin: 0 0 var(--space-2) 0;
  color: var(--muted);
  line-height: 1.6;
}

.achievement p strong {
  color: var(--text);
  font-weight: 600;
}

.resume-sidebar {
  position: sticky;
  top: 120px;
}

.sidebar-section {
  margin-bottom: var(--space-6);
  padding: var(--space-5);
  background: var(--card);
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
}

.sidebar-section h3 {
  margin: 0 0 var(--space-4) 0;
  font-size: 1.1rem;
  color: var(--text);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--border);
}

.basic-info {
  display: grid;
  gap: var(--space-3);
}

.basic-info dt {
  font-weight: 500;
  color: var(--text);
  margin-bottom: var(--space-1);
}

.basic-info dd {
  margin: 0;
  color: var(--muted);
  margin-bottom: var(--space-2);
}

.skill-legend {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.legend-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.legend-bar {
  width: 40px;
  height: 4px;
  border-radius: 2px;
  flex-shrink: 0;
}

.legend-bar.expert { background: var(--primary); }
.legend-bar.advanced { background: var(--accent); }
.legend-bar.intermediate { background: var(--muted); }
.legend-bar.beginner { background: var(--border); }

.legend-item span {
  font-size: 0.85rem;
  color: var(--muted);
}

.learning-list,
.certifications {
  list-style: none;
  padding: 0;
  margin: 0;
}

.learning-list li,
.certifications li {
  padding: var(--space-2) 0;
  color: var(--muted);
  font-size: 0.9rem;
  border-bottom: 1px solid var(--border);
}

.learning-list li:last-child,
.certifications li:last-child {
  border-bottom: none;
}

.learning-list li::before {
  content: '📚';
  margin-right: var(--space-2);
}

.certifications li::before {
  content: '🏆';
  margin-right: var(--space-2);
}

.contact-section {
  padding: var(--space-5);
  background: var(--card);
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
}

.contact-section p {
  margin: 0 0 var(--space-5) 0;
  color: var(--muted);
  line-height: 1.6;
}

.contact-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-4);
}

.contact-method h4 {
  margin: 0 0 var(--space-2) 0;
  font-size: 1rem;
  color: var(--text);
}

.contact-method a {
  color: var(--primary);
  text-decoration: underline;
  font-size: 0.95rem;
}

.contact-method a:hover {
  color: var(--primary-strong);
}

/* Resume responsive design */
@media (max-width: 1024px) {
  .resume-grid {
    grid-template-columns: 1fr;
    gap: var(--space-6);
  }
  
  .resume-sidebar {
    position: static;
  }
  
  .timeline-item {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }
  
  .timeline-date {
    text-align: left;
    font-size: 0.85rem;
  }
}

@media (max-width: 768px) {
  .resume-hero {
    padding: var(--space-section-mobile) 0;
  }
  
  .resume-content {
    padding: var(--space-section-mobile) 0;
  }
  
  .resume-header {
    grid-template-columns: 1fr;
    text-align: center;
    gap: var(--space-4);
  }
  
  .profile-image img {
    width: 100px;
    height: 100px;
  }
  
  .profile-info h1 {
    font-size: 2rem;
  }
  
  .profile-contact {
    grid-template-columns: 1fr;
  }
  
  .timeline-item {
    padding: var(--space-4);
  }
  
  /* Timeline responsive improvements */
  .timeline-hero__layout {
    grid-template-columns: 1fr;
    text-align: center;
    gap: var(--space-4);
  }
  
  .timeline-hero__profile {
    width: clamp(150px, 40vw, 200px);
    order: -1;
    margin: 0 auto;
  }
  
  .timeline-hero__stats {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }
  
  .timeline-hero__stat {
    padding: var(--space-3);
  }
  
  .timeline-hero__stat-value {
    font-size: 1.5rem;
  }
  
  .timeline-list--desktop {
    display: none;
  }
  
  .timeline-accordion {
    display: block;
  }
  
  .timeline-group__header {
    text-align: center;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .timeline-group__year {
    font-size: 1.8rem;
  }
  
  .timeline-ongoing__grid {
    grid-template-columns: 1fr;
  }
  
  .breadcrumb-nav {
    padding: var(--space-3) 0;
  }
  
  .sidebar-section {
    padding: var(--space-4);
  }
}

/* -----------------------------------------------------------
   Motion Preferences
----------------------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  .btn,
  .card,
  .site-header,
  .project-card,
  .hero-card {
    transition: none;
  }
  
  /* 水面オーバーレイのアニメーションも停止 */
  .ocean-overlay__svg {
    animation: none !important;
    filter: none !important;
  }
  .ocean-overlay {
    opacity: 0.4 !important;
  }
}

/* Example usage (do not remove):
<div class="card-glass card-glass--roomy">Content</div>
*/

/* ===== 水面オーバーレイ（Phase2） ===== */

/* オーバーレイは背景の上・本文の下に固定。クリックを邪魔しない */
.ocean-overlay {
  position: fixed;
  inset: 0;
  z-index: 0;              /* 背景より前、本文より後ろにしたいので本文側に z-index:1 を与える */
  pointer-events: none;
  mix-blend-mode: overlay;  /* より視覚的に分かりやすいブレンドモード */
  opacity: 0.70;           /* 視覚効果を強化 */
  /* 上だけに効かせるフェード（下方向へ自然に消える） */
  -webkit-mask-image: linear-gradient(to bottom, black 0%, black 35vh, transparent 60vh);
  mask-image: linear-gradient(to bottom, black 0%, black 35vh, transparent 60vh);
  will-change: transform, opacity, filter;
}

/* フィルタは SVG 全面に適用（屈折っぽいゆらぎ） */
.ocean-overlay__svg {
  width: 100%;
  height: 100%;
  filter: url(#water-caustics-filter);
  animation: causticsDrift 10s ease-in-out infinite;
}

@keyframes causticsDrift {
  0%   { transform: translate3d(0, 0, 0) }
  50%  { transform: translate3d(0, -1.5%, 0) }
  100% { transform: translate3d(0, 0, 0) }
}

/* 本文はオーバーレイより手前に置く（洗い流され防止） */
body { position: relative; z-index: 1; }

/* ダーク/ライト両方で過剰にならないよう少し抑える */
@media (max-width: 768px) {
  .ocean-overlay { opacity: 0.7; }
}

/* ハイコントラスト/印刷では抑制 */
@media print {
  .ocean-overlay { display: none !important; }
}

/* オプション（ページごとにON/OFF） */
html[data-caustics="off"] .ocean-overlay { display: none !important; }

/* ===== Phase3: Bubbles (CSS-only animation) ===== */

.bubbles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* 背景より前、コンテンツより後ろ */
}

.bubble {
  position: absolute;
  bottom: -12vh;              /* 画面外の下から湧く */
  border-radius: 9999px;
  background: radial-gradient(ellipse at 30% 30%,
              rgba(255,255,255,.9),
              rgba(255,255,255,.15) 60%,
              rgba(255,255,255,0) 70%);
  box-shadow: inset 0 0 10px rgba(255,255,255,.7);
  filter: blur(.2px);
  opacity: 0;                 /* 最初は透明 */
  animation:
    bubble-rise var(--dur, 16s) linear var(--delay, 0s) infinite,
    bubble-drift calc(var(--dur, 16s) * 0.8) ease-in-out var(--delay, 0s) infinite;
}

@keyframes bubble-rise {
  0%   { transform: translate3d(0, 0, 0) scale(.65); opacity: 0; }
  8%   { opacity: .95; }
  100% { transform: translate3d(0, -120vh, 0) scale(1.05); opacity: 0; }
}

/* 微小な左右揺れ（リアル寄り。やり過ぎない） */
@keyframes bubble-drift {
  0%   { transform: translateX(0) }
  50%  { transform: translateX(var(--xdrift, 8px)) }
  100% { transform: translateX(0) }
}

/* 中層だけ泡を出す（オプション） */
.bubbles--mid {
  -webkit-mask-image: linear-gradient(
    to bottom,
    transparent 10vh, black 40vh, black 70vh, transparent 90vh
  );
  mask-image: linear-gradient(
    to bottom,
    transparent 10vh, black 40vh, black 70vh, transparent 90vh
  );
}

/* モバイルでは密度を少し抑える印象に */
@media (max-width: 768px) {
  .bubble { filter: blur(.3px); }
}

/* 低モーション環境では泡を減速/停止 */
@media (prefers-reduced-motion: reduce) {
  .bubble {
    animation-duration: 30s !important;
    animation-iteration-count: infinite;
    opacity: .35;
  }
}

/* ===== Phase4: Scroll-Depth Effects ===== */

/* 深度レイヤー（本文の上に極薄で重ねる） */
.depth-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2;               /* 背景:0 / オーバーレイ:0〜1 / 本文:1 / ← その上に2 */
  /* フィルタは CSS 変数で制御（JSが更新） */
  --depth-brightness: 1;    /* 1 → 0.55 程度へ */
  --depth-saturate:  1;     /* 1 → 0.75 程度へ */
  --depth-blur:      0px;   /* 0px → 2px 程度へ */
  filter:
    brightness(var(--depth-brightness))
    saturate(var(--depth-saturate))
    blur(var(--depth-blur));
  transition: filter 0.06s linear; /* スクロールの微振動を馴染ませる */
}

/* 上部ライト（水面からの光） */
.depth-layer__light {
  position: absolute;
  inset: 0;
  /* 上から差すライト（上強→下弱） */
  background: radial-gradient(1200px 600px at 50% -10%,
              rgba(255,255,255,0.25), rgba(0,0,0,0) 60%);
  mix-blend-mode: overlay;
  /* これも CSS 変数で制御 */
  --light-brightness: 1; /* 1 → 0.6 程度へ */
  filter: brightness(var(--light-brightness));
}

/* 低モーション / 印刷などのフォールバック */
@media (prefers-reduced-motion: reduce) {
  .depth-layer {
    --depth-brightness: 0.85;
    --depth-saturate: 0.9;
    --depth-blur: 1px;
  }
  .depth-layer__light { --light-brightness: 0.8; }
}
@media print {
  .depth-layer { display: none !important; }
}

/* 必要ならページ単位でOFFにできる */
html[data-depth="off"] .depth-layer { display: none !important; }

/* ===== プロジェクト詳細ページ用スタイル ===== */

.project-detail__info {
  display: grid;
  gap: var(--space-3);
}

.info-item {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: var(--space-2);
  align-items: baseline;
}

.info-item dt {
  font-weight: 600;
  color: var(--accent);
  font-size: 0.9rem;
  min-width: 4rem;
}

.info-item dd {
  margin: 0;
  color: var(--muted);
  font-size: 0.95rem;
}

.achievement-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: var(--space-2);
}

.achievement-list li {
  position: relative;
  padding-left: 1.2rem;
  color: var(--muted);
  font-size: 0.9rem;
  line-height: 1.5;
}

.achievement-list li::before {
  content: '✓';
  position: absolute;
  left: 0;
  color: var(--accent);
  font-weight: 600;
}

.project-hero__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
  align-items: center;
}

.project-hero__period {
  color: var(--muted);
  font-size: 0.9rem;
  font-weight: 500;
}

.project-hero__title {
  margin: 0 0 var(--space-4);
  font-size: clamp(2.5rem, 4vw, 3.2rem);
  letter-spacing: -0.02em;
  text-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

.project-hero__summary {
  margin: 0 0 var(--space-6);
  font-size: 1.15rem;
  line-height: 1.6;
  color: var(--muted);
  max-width: 48rem;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

.project-hero__actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
}

.project-navigation {
  margin-top: var(--space-6);
}

.nav-actions {
  display: flex;
  justify-content: space-between;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.project-content {
  max-width: 65ch;
  margin: 0 auto;
}

.content-wrapper :global(h2) {
  font-size: 1.8rem;
  margin-top: var(--space-6);
  margin-bottom: var(--space-4);
  color: var(--text);
  border-bottom: 2px solid var(--primary);
  padding-bottom: var(--space-2);
}

.content-wrapper :global(h3) {
  font-size: 1.4rem;
  margin-top: var(--space-5);
  margin-bottom: var(--space-3);
  color: var(--text);
}

.content-wrapper :global(p) {
  margin-bottom: var(--space-4);
  line-height: 1.7;
  color: var(--muted);
}

.content-wrapper :global(ul), 
.content-wrapper :global(ol) {
  margin-bottom: var(--space-4);
  padding-left: var(--space-5);
}

.content-wrapper :global(li) {
  margin-bottom: var(--space-2);
  line-height: 1.6;
  color: var(--muted);
}

.content-wrapper :global(pre) {
  background: color-mix(in oklab, var(--card), transparent 10%);
  padding: var(--space-4);
  border-radius: var(--radius-sm);
  overflow-x: auto;
  margin: var(--space-4) 0;
  border: 1px solid var(--border);
}

.content-wrapper :global(code) {
  background: color-mix(in oklab, var(--card), transparent 50%);
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-size: 0.9em;
  color: var(--primary);
}

.content-wrapper :global(pre code) {
  background: transparent;
  padding: 0;
  color: var(--text);
}

.content-wrapper :global(blockquote) {
  border-left: 4px solid var(--primary);
  padding-left: var(--space-4);
  margin: var(--space-4) 0;
  font-style: italic;
  color: var(--muted);
  background: color-mix(in oklab, var(--primary), transparent 95%);
  padding: var(--space-4);
  border-radius: var(--radius-sm);
}

.content-wrapper :global(table) {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-4) 0;
  background: var(--card);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.content-wrapper :global(th),
.content-wrapper :global(td) {
  padding: var(--space-3);
  text-align: left;
  border-bottom: 1px solid var(--border);
}

.content-wrapper :global(th) {
  background: var(--surface-contrast);
  font-weight: 600;
  color: var(--text);
}

.content-wrapper :global(td) {
  color: var(--muted);
}

/* ===== プロジェクト一覧ページ用スタイル ===== */

.project-catalog {
  display: grid;
  gap: var(--space-6);
  max-width: 900px;
  margin: 0 auto;
}

.project-catalog__item {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  transition: transform var(--transition-base), box-shadow var(--transition-base);
}

.project-catalog__header {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.project-catalog__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
  margin-bottom: var(--space-2);
}

.project-catalog__period {
  font-size: 0.9rem;
  color: var(--muted);
  font-weight: 500;
}

.project-catalog__title {
  margin: 0;
  font-size: 1.6rem;
  letter-spacing: -0.01em;
  line-height: 1.3;
}

.project-catalog__role {
  margin: 0;
  color: var(--muted);
  font-size: 0.95rem;
  font-style: italic;
}

.project-catalog__summary {
  margin: 0;
  color: var(--muted);
  line-height: 1.6;
}

.project-catalog__achievements {
  margin-top: var(--space-3);
}

.project-catalog__achievements h4 {
  margin: 0 0 var(--space-2);
  font-size: 0.95rem;
  color: var(--text);
  font-weight: 600;
}

.project-catalog__tech {
  margin-top: var(--space-3);
}

.project-catalog__tech h4 {
  margin: 0 0 var(--space-2);
  font-size: 0.95rem;
  color: var(--text);
  font-weight: 600;
}

.project-catalog__tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin: 0;
  padding: 0;
  list-style: none;
}

.project-catalog__actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-top: auto;
  padding-top: var(--space-4);
  border-top: 1px solid color-mix(in oklab, var(--border), transparent 70%);
}

/* カテゴリ別色分け */
.project-catalog__item[data-category*="研究"] .badge--soft {
  background: color-mix(in oklab, #facc15, transparent 85%);
  color: #f59e0b;
  border-color: color-mix(in oklab, #facc15, transparent 70%);
}

.project-catalog__item[data-category*="実務"] .badge--soft {
  background: color-mix(in oklab, #34d399, transparent 85%);
  color: #10b981;
  border-color: color-mix(in oklab, #34d399, transparent 70%);
}

.project-catalog__item[data-category*="個人"] .badge--soft {
  background: color-mix(in oklab, #f472b6, transparent 85%);
  color: #ec4899;
  border-color: color-mix(in oklab, #f472b6, transparent 70%);
}

/* レスポンシブ調整 */
@media (max-width: 768px) {
  .project-catalog__actions {
    flex-direction: column;
  }
  
  .project-catalog__meta {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }
}

/* レスポンシブ調整 */
@media (max-width: 768px) {
  .nav-actions {
    flex-direction: column;
  }
  
  .project-hero__actions {
    justify-content: center;
  }
  
  .project-hero__meta {
    justify-content: center;
    text-align: center;
  }
}

/* Print and high-contrast fallback */
@media print {
  body { background: #ffffff !important; color: #111 !important; }
}

