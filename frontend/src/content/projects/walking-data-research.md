---
title: "歩行データ時系列クラスタリング研究"
date: 2024-06-01
summary: "MediaPipeで取得した歩行データをDTWとクラスタリングで分析し、500+サンプルで特徴量設計から検証まで一貫して担当。学会発表準備中。"
category: "研究・アカデミック"
role: "研究員（データ分析・アルゴリズム実装）"
technologies: ["Python", "MediaPipe", "scikit-learn", "pandas", "numpy", "matplotlib", "DTW"]
tags: ["Python", "Research", "DTW", "Machine Learning"]
achievements: ["500+サンプルのデータセット構築", "DTW距離アルゴリズム実装", "90%の再現性でクラスタリング結果を達成"]
period: "2024.06 - 現在"
status: "ongoing"
featured: true
cover: "/assets/projects/walking-data-research-cover.jpg"
---
# 歩行データ時系列クラスタリング研究

MediaPipe Poseを活用した歩行動作解析システムの研究開発。時系列データのクラスタリング手法を比較検証し、歩行パターンの自動分類システムを構築しました。学会発表に向けた継続研究中です。

## 研究概要

**テーマ**: 歩行時系列データに対する距離計算手法の比較検証  
**期間**: 2024.06 - 現在 (継続中)  
**データセット**: 500+サンプル（被験者20名）

## 研究の背景・目的

従来の歩行分析は専用機器が必要で高コストでした。本研究では、汎用カメラとAI技術を組み合わせることで、低コストかつ高精度な歩行パターン分析手法の確立を目指しています。

## 主な成果・発見

### データセット構築
- **500+歩行サンプル**: 20名の被験者から収集
- **多様な歩行パターン**: 通常歩行・早歩き・階段昇降を含む
- **データ品質管理**: MediaPipe信頼度スコアでフィルタリング

### アルゴリズム実装・検証
- **DTW距離計算**: 時系列の長さ差を考慮した動的プログラミング実装
- **クラスタリング比較**: K-means・階層・DBSCAN手法の精度比較
- **再現性確保**: 90%以上の分類精度を複数回実験で確認

### 技術的贡献
- **特徴量設計**: 関節角度・速度・加速度の組み合わせ最適化
- **前処理パイプライン**: 正規化・ノイズ除去・データ補間の自動化
- **可視化システム**: 研究発表向けのインタラクティブなグラフ生成

## 技術アーキテクチャ

### データ処理フロー
```
動画データ
↓ MediaPipe Pose
キーポイント抽出
↓ 前処理パイプライン
時系列データ正規化
↓ 特徴量エンジニアリング
関節角度・速度計算
↓ DTW距離計算
時系列間の類似度算出
↓ クラスタリング
パターン分類・評価
```

### 技術スタック
- **データ処理**: Python, pandas, numpy
- **機械学習**: scikit-learn, fastdtw
- **画像処理**: MediaPipe, OpenCV
- **可視化**: matplotlib, seaborn, plotly
- **統計解析**: scipy, statsmodels

## 研究手法・実験設計

### DTW（Dynamic Time Warping）実装
```python
def dtw_distance(ts1, ts2):
    """
    時系列間のDTW距離を計算
    """
    n, m = len(ts1), len(ts2)
    dtw_matrix = np.full((n+1, m+1), np.inf)
    dtw_matrix[0, 0] = 0
    
    for i in range(1, n+1):
        for j in range(1, m+1):
            cost = np.linalg.norm(ts1[i-1] - ts2[j-1])
            dtw_matrix[i, j] = cost + min(
                dtw_matrix[i-1, j],    # insertion
                dtw_matrix[i, j-1],    # deletion
                dtw_matrix[i-1, j-1]   # match
            )
    
    return dtw_matrix[n, m]
```

### 評価手法
1. **内部評価指標**: シルエット係数、Calinski-Harabasz指標
2. **外部評価指標**: 調整ランド指数（専門家ラベルとの比較）
3. **定性評価**: 歩行動画と分類結果の視覚的確認

## 研究結果・考察

### 主要発見
- **K-means vs 階層クラスタリング**: DTW距離では階層クラスタリングが5%高い精度
- **特徴量の重要度**: 膝関節角度が最も分類に寄与（相関係数 r=0.78）
- **データサンプル数の影響**: 400サンプル以上で精度が安定化

### 実用性への展望
- **リハビリテーション応用**: 歩行改善の定量的評価
- **スポーツ科学**: フォーム分析・パフォーマンス向上
- **高齢者見守り**: 歩行パターン変化の早期発見

## 今後の研究計画

1. **深層学習手法との比較**: LSTM・Transformerベースの時系列分類
2. **リアルタイム処理**: エッジデバイスでの高速化実装
3. **学会発表**: 信号処理学会での研究成果発表予定

## 学術的意義・学び

**研究スキル**
- 仮説設定から検証まで一貫した研究プロセス
- 定量的評価と統計的有意性の検証手法
- 学術論文執筆・査読対応スキル

**技術的成長**
- 大規模データセットでの機械学習パイプライン構築
- NumPy・pandas活用した高速データ処理
- 可視化・プレゼンテーションスキル向上

---

*この研究は現在も継続中で、2025年春の学会発表を目標に論文執筆を進めています。*
